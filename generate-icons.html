<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PWA Icon Generator - Workout Generator</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            max-width: 1200px;
            margin: 50px auto;
            padding: 20px;
            background: #f8fafc;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        h1 {
            color: #8b5cf6;
            margin-bottom: 10px;
        }
        .preview-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        .preview-item {
            text-align: center;
        }
        .preview-item canvas {
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            max-width: 100%;
            height: auto;
        }
        .preview-item p {
            margin: 10px 0 0 0;
            font-size: 14px;
            color: #64748b;
        }
        button {
            background: #8b5cf6;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            margin: 10px 5px 10px 0;
        }
        button:hover {
            background: #7c3aed;
        }
        .status {
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            display: none;
        }
        .status.success {
            background: #d1fae5;
            color: #065f46;
            border: 1px solid #10b981;
            display: block;
        }
        .instructions {
            background: #dbeafe;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            color: #1e40af;
        }
        .instructions ol {
            margin: 10px 0;
            padding-left: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ðŸŽ¨ PWA Icon Generator</h1>
        <p>Generate all required icons for Workout Generator PWA</p>

        <div class="instructions">
            <strong>ðŸ“‹ Instructions:</strong>
            <ol>
                <li>Click "Generate All Icons" button below</li>
                <li>Right-click each icon and select "Save image as..."</li>
                <li>Save to <code>assets/icons/</code> folder with the exact filename shown</li>
                <li>Repeat for all 10 icons</li>
            </ol>
        </div>

        <button onclick="generateAllIcons()">ðŸŽ¨ Generate All Icons</button>
        <button onclick="downloadAllIcons()">ðŸ’¾ Download All Icons (Automatic)</button>

        <div id="status" class="status"></div>

        <h2>Icon Preview:</h2>
        <div class="preview-grid" id="previewGrid"></div>
    </div>

    <script>
        const iconSizes = [
            { size: 72, filename: 'icon-72x72.png', maskable: false },
            { size: 96, filename: 'icon-96x96.png', maskable: false },
            { size: 128, filename: 'icon-128x128.png', maskable: false },
            { size: 144, filename: 'icon-144x144.png', maskable: false },
            { size: 152, filename: 'icon-152x152.png', maskable: false },
            { size: 192, filename: 'icon-192x192.png', maskable: false },
            { size: 384, filename: 'icon-384x384.png', maskable: false },
            { size: 512, filename: 'icon-512x512.png', maskable: false },
            { size: 192, filename: 'icon-maskable-192x192.png', maskable: true },
            { size: 512, filename: 'icon-maskable-512x512.png', maskable: true }
        ];

        function drawIcon(canvas, size, maskable) {
            const ctx = canvas.getContext('2d');
            canvas.width = size;
            canvas.height = size;

            // Create gradient background
            const gradient = ctx.createLinearGradient(0, 0, size, size);
            gradient.addColorStop(0, '#8b5cf6');  // Purple
            gradient.addColorStop(0.5, '#7c3aed'); // Darker purple
            gradient.addColorStop(1, '#6d28d9');   // Even darker purple
            
            // Draw background
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, size, size);

            // Add safe zone for maskable icons (20% padding)
            const padding = maskable ? size * 0.2 : size * 0.15;
            const iconSize = size - (padding * 2);
            const centerX = size / 2;
            const centerY = size / 2;

            // Draw dumbbell icon
            ctx.fillStyle = 'white';
            ctx.strokeStyle = 'white';
            ctx.lineWidth = size * 0.04;

            // Dumbbell dimensions
            const barWidth = iconSize * 0.5;
            const barHeight = size * 0.04;
            const weightWidth = size * 0.08;
            const weightHeight = iconSize * 0.35;

            // Draw center bar
            ctx.fillRect(
                centerX - barWidth / 2,
                centerY - barHeight / 2,
                barWidth,
                barHeight
            );

            // Draw left weight
            ctx.fillRect(
                centerX - barWidth / 2 - weightWidth,
                centerY - weightHeight / 2,
                weightWidth,
                weightHeight
            );

            // Draw right weight
            ctx.fillRect(
                centerX + barWidth / 2,
                centerY - weightHeight / 2,
                weightWidth,
                weightHeight
            );

            // Draw weight plates (circles on ends)
            const plateRadius = size * 0.06;
            
            // Left plates
            ctx.beginPath();
            ctx.arc(centerX - barWidth / 2 - weightWidth / 2, centerY - weightHeight / 2, plateRadius, 0, Math.PI * 2);
            ctx.fill();
            ctx.beginPath();
            ctx.arc(centerX - barWidth / 2 - weightWidth / 2, centerY + weightHeight / 2, plateRadius, 0, Math.PI * 2);
            ctx.fill();

            // Right plates
            ctx.beginPath();
            ctx.arc(centerX + barWidth / 2 + weightWidth / 2, centerY - weightHeight / 2, plateRadius, 0, Math.PI * 2);
            ctx.fill();
            ctx.beginPath();
            ctx.arc(centerX + barWidth / 2 + weightWidth / 2, centerY + weightHeight / 2, plateRadius, 0, Math.PI * 2);
            ctx.fill();

            // Add subtle shadow for depth
            ctx.shadowColor = 'rgba(0, 0, 0, 0.3)';
            ctx.shadowBlur = size * 0.02;
            ctx.shadowOffsetX = size * 0.01;
            ctx.shadowOffsetY = size * 0.01;
        }

        function generateAllIcons() {
            const previewGrid = document.getElementById('previewGrid');
            previewGrid.innerHTML = '';

            iconSizes.forEach(iconConfig => {
                const previewItem = document.createElement('div');
                previewItem.className = 'preview-item';

                const canvas = document.createElement('canvas');
                drawIcon(canvas, iconConfig.size, iconConfig.maskable);

                const label = document.createElement('p');
                label.textContent = iconConfig.filename;

                previewItem.appendChild(canvas);
                previewItem.appendChild(label);
                previewGrid.appendChild(previewItem);
            });

            const status = document.getElementById('status');
            status.className = 'status success';
            status.innerHTML = '<strong>âœ“ Success!</strong> All 10 icons generated. Right-click each icon to save, or use "Download All Icons" button.';
        }

        function downloadAllIcons() {
            const previewGrid = document.getElementById('previewGrid');
            const canvases = previewGrid.querySelectorAll('canvas');

            if (canvases.length === 0) {
                alert('Please generate icons first by clicking "Generate All Icons"');
                return;
            }

            canvases.forEach((canvas, index) => {
                const iconConfig = iconSizes[index];
                
                canvas.toBlob(blob => {
                    const url = URL.createObjectURL(blob);
                    const link = document.createElement('a');
                    link.href = url;
                    link.download = iconConfig.filename;
                    document.body.appendChild(link);
                    link.click();
                    document.body.removeChild(link);
                    URL.revokeObjectURL(url);
                }, 'image/png');
            });

            const status = document.getElementById('status');
            status.className = 'status success';
            status.innerHTML = '<strong>âœ“ Success!</strong> All 10 icons are downloading. Check your Downloads folder and move them to <code>assets/icons/</code> folder.';
        }

        // Auto-generate on page load
        window.addEventListener('DOMContentLoaded', generateAllIcons);
    </script>
</body>
</html>

