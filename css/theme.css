/* ===================================================================
   Theme System - Dark Mode Support
   ================================================================ */

/* Dark Mode Color Palette
   These variables define the color scheme for dark mode */
:root {
  --color-dark-bg: #0f172a; /* Deep navy background */
  --color-dark-bg-alt: #1e293b; /* Alternative dark background */
  --color-dark-surface: #1e293b; /* Card/surface backgrounds */
  --color-dark-border: #334155; /* Subtle borders */
  --color-dark-text: #f1f5f9; /* Primary text (light) */
  --color-dark-text-secondary: #cbd5e1; /* Secondary text */
  --color-dark-text-muted: #94a3b8; /* Muted text */
}

/* ===================================================================
   Dark Theme Overrides
   Applied when [data-theme="dark"] is set on <html> element
   ================================================================ */

[data-theme="dark"] {
  /* Override color variables for dark mode */
  --color-background: var(--color-dark-bg);
  --color-background-alt: var(--color-dark-bg-alt);
  --color-surface: var(--color-dark-surface);
  --color-border: var(--color-dark-border);
  --color-text-primary: var(--color-dark-text);
  --color-text-secondary: var(--color-dark-text-secondary);
  --color-text-muted: var(--color-dark-text-muted);

  /* Adjust shadows for dark mode - lighter and more subtle */
  --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.3);
  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.4),
    0 2px 4px -1px rgba(0, 0, 0, 0.3);
  --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.5),
    0 4px 6px -2px rgba(0, 0, 0, 0.4);
}

/* ===================================================================
   Dark Mode Specific Overrides
   Fix gradient backgrounds that conflict with light text
   ================================================================ */

/* Form Controls - Slider Container */
[data-theme="dark"] .slider-container {
  background: linear-gradient(
    145deg,
    var(--color-dark-surface) 0%,
    rgba(139, 92, 246, 0.08) 100%
  ) !important;
  border: 1px solid var(--color-dark-border);
}

/* Form Controls - Radio Labels */
[data-theme="dark"] .radio-label {
  background: linear-gradient(
    145deg,
    var(--color-dark-surface) 0%,
    rgba(139, 92, 246, 0.08) 100%
  ) !important;
  border-color: var(--color-dark-border) !important;
}

[data-theme="dark"] .radio-label:hover {
  border-color: var(--color-primary) !important;
  background: linear-gradient(
    145deg,
    var(--color-dark-surface) 0%,
    rgba(139, 92, 246, 0.15) 100%
  ) !important;
}

/* Help Text - Ensure visibility on dark backgrounds */
[data-theme="dark"] .help-text,
[data-theme="dark"] .radio-help {
  color: var(--color-dark-text-secondary) !important;
}

/* Radio Input - Dark mode styling */
[data-theme="dark"] .radio-input {
  border-color: var(--color-dark-border) !important;
  background: var(--color-dark-bg) !important;
}

[data-theme="dark"] .radio-input:checked {
  border-color: var(--color-primary) !important;
  background: var(--color-primary) !important;
}

/* Radio Text */
[data-theme="dark"] .radio-text {
  color: var(--color-dark-text) !important;
}

/* Footer - Override gradient background to dark */
[data-theme="dark"] .app-footer {
  background: linear-gradient(
    135deg,
    var(--color-dark-surface) 0%,
    rgba(139, 92, 246, 0.1) 50%,
    var(--color-dark-surface) 100%
  ) !important;
}

/* Footer bottom - Override gradient background to dark */
[data-theme="dark"] .footer-bottom {
  background: linear-gradient(
    135deg,
    rgba(139, 92, 246, 0.08) 0%,
    rgba(139, 92, 246, 0.04) 100%
  ) !important;
}

/* Footer text - Improve visibility in dark mode */
[data-theme="dark"] .footer-description,
[data-theme="dark"] .footer-link,
[data-theme="dark"] .footer-feature,
[data-theme="dark"] .footer-copyright {
  color: var(--color-dark-text-secondary) !important;
}

[data-theme="dark"] .footer-link:hover {
  color: #a78bfa !important; /* Lighter purple for better visibility */
  text-shadow: 0 1px 3px rgba(167, 139, 250, 0.3);
}

[data-theme="dark"] .footer-heading {
  color: var(--color-dark-text) !important;
}

/* History toggle button - Enhanced dark mode support */
[data-theme="dark"] .history-toggle-btn {
  background: linear-gradient(135deg, #8b5cf6 0%, #6366f1 100%) !important;
  border-color: rgba(255, 255, 255, 0.15) !important;
  box-shadow: 0 6px 20px rgba(139, 92, 246, 0.3), 0 2px 8px rgba(0, 0, 0, 0.2) !important;
}

[data-theme="dark"] .history-toggle-btn:hover {
  background: linear-gradient(135deg, #7c3aed 0%, #4f46e5 100%) !important;
  border-color: rgba(255, 255, 255, 0.25) !important;
  box-shadow: 0 10px 30px rgba(139, 92, 246, 0.4), 0 4px 12px rgba(0, 0, 0, 0.3) !important;
}

[data-theme="dark"] .history-toggle-btn.active {
  background: linear-gradient(135deg, #10b981 0%, #059669 100%) !important;
  box-shadow: 0 6px 20px rgba(16, 185, 129, 0.3), 0 2px 8px rgba(0, 0, 0, 0.2) !important;
}

/* Stat items - Add border radius and adjust background */
[data-theme="dark"] .stat-item {
  background: rgba(139, 92, 246, 0.15) !important;
  border-radius: var(--border-radius-lg) !important;
  border: 1px solid rgba(139, 92, 246, 0.3) !important;
}

[data-theme="dark"] .stat-item:hover {
  background: rgba(139, 92, 246, 0.25) !important;
  border-color: rgba(139, 92, 246, 0.5) !important;
}

/* Stat text - Improve visibility in dark mode */
[data-theme="dark"] .stat-number {
  color: #a78bfa !important; /* Lighter purple for better visibility */
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
}

[data-theme="dark"] .stat-label {
  color: #1e293b !important; /* Dark text for light purple background */
  text-shadow: none;
  font-weight: 700;
}

/* ===================================================================
   Mobile Responsive Dark Mode Overrides
   Ensure text visibility on all screen sizes
   ================================================================ */

/* Mobile screens (max-width: 768px) */
@media (max-width: 768px) {
  /* Ensure footer background stays dark on mobile */
  [data-theme="dark"] .app-footer {
    background: linear-gradient(
      135deg,
      var(--color-dark-surface) 0%,
      rgba(139, 92, 246, 0.12) 50%,
      var(--color-dark-surface) 100%
    ) !important;
  }

  /* Ensure footer bottom stays dark on mobile */
  [data-theme="dark"] .footer-bottom {
    background: linear-gradient(
      135deg,
      rgba(139, 92, 246, 0.1) 0%,
      rgba(139, 92, 246, 0.05) 100%
    ) !important;
  }

  /* Enhance stat items visibility on mobile */
  [data-theme="dark"] .stat-item {
    background: rgba(139, 92, 246, 0.2) !important;
    border: 1px solid rgba(139, 92, 246, 0.3) !important;
  }
}

/* Small mobile screens (max-width: 480px) */
@media (max-width: 480px) {
  /* Stronger background for very small screens */
  [data-theme="dark"] .app-footer {
    background: var(--color-dark-surface) !important;
  }

  /* Ensure all footer text is highly visible */
  [data-theme="dark"] .footer-description,
  [data-theme="dark"] .footer-link,
  [data-theme="dark"] .footer-feature,
  [data-theme="dark"] .footer-copyright {
    color: var(--color-dark-text) !important;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
  }

  /* Make stat items more prominent on small screens */
  [data-theme="dark"] .stat-item {
    background: rgba(139, 92, 246, 0.25) !important;
    border: 2px solid rgba(139, 92, 246, 0.4) !important;
  }

  [data-theme="dark"] .stat-number {
    color: #a78bfa !important; /* Lighter purple for better visibility */
    text-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);
  }

  [data-theme="dark"] .stat-label {
    color: #1e293b !important; /* Dark text for light purple background */
    text-shadow: none;
    font-weight: 700;
  }
}

/* ===================================================================
   Smooth Theme Transitions
   ================================================================ */

/* Apply smooth transitions to theme-dependent properties */
html {
  transition: background-color 0.3s ease, color 0.3s ease;
}

body,
.app-container,
.app-header,
.app-main,
.app-footer,
.workout-controls,
.workout-display,
.btn,
.workout-list-container,
.footer-content,
.workout-form,
.control-group,
.workout-state,
.exercise-item {
  transition: background-color 0.3s ease, color 0.3s ease,
    border-color 0.3s ease, box-shadow 0.3s ease;
}
